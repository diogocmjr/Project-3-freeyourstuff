(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),r=s(19),i=s.n(r),o=(s(39),s(15)),c=s(3),l=s(4),d=s(6),u=s(5),m=(s(40),s(7)),h=s(2),g=s.n(h),j=s(10),b=function(e,t){return g.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},x=function(e,t){return g.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=s(1),p=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(j.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;b(n,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):e.props.history.push("/login")}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(f.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(f.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Signup"})]}),Object(f.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:this.handleSubmit,children:[Object(f.jsx)("label",{htmlFor:"username",className:"sr-only",children:" Username: "}),Object(f.jsx)("input",{id:"username",type:"text",name:"username",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),Object(f.jsx)("label",{htmlFor:"password",className:"sr-only",children:" Password: "}),Object(f.jsx)("input",{id:"password",type:"password",name:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),Object(f.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:" Sign Up"}),this.state.message&&Object(f.jsx)("h3",{children:this.state.message})]})]})})}}]),s}(n.Component),y=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(j.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;x(n,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(f.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(f.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Login"})]}),Object(f.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:this.handleSubmit,children:[Object(f.jsx)("label",{className:"sr-only",htmlFor:"username",children:"Username: "}),Object(f.jsx)("input",{className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",id:"username",type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),Object(f.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password: "}),Object(f.jsx)("input",{id:"password",type:"password",name:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),Object(f.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Log in"}),this.state.message&&Object(f.jsx)("h3",{children:this.state.message})]})]})})}}]),s}(n.Component),O=(s(65),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"py-4 fixed z-40 bg-white w-full",children:Object(f.jsxs)("div",{className:"flex justify-center lg:flex-row sm:flex-col md:flex-col flex-col",children:[Object(f.jsx)("div",{className:"px-4 mr-4",children:Object(f.jsx)("input",{className:"flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 mx-2 my-1 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",name:"search",id:"search",value:this.props.query,onChange:function(t){e.props.handleSearch(t.target.value)},placeholder:"Search"})}),Object(f.jsxs)("div",{className:"relative flex lg:flex-row sm:flex-col md:flex-col flex-col text-left w-auto px-4",children:[Object(f.jsx)("div",{className:"px-2 my-1",children:Object(f.jsxs)("select",{className:"flex justify-center w-full rounded-md border border-gray-300 px-4 shadow-sm py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"category",id:"category",value:this.props.category,onChange:function(t){e.props.handleChange(t)},children:[Object(f.jsx)("option",{value:"Category",children:" All Categories "}),Object(f.jsx)("option",{value:"Books",children:"Books"}),Object(f.jsx)("option",{value:"Clothing & Accessories",children:"Clothing & Accessories"}),Object(f.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(f.jsx)("option",{value:"Family & Baby",children:"Family & Baby"}),Object(f.jsx)("option",{value:"Hobbies",children:"Hobbies"}),Object(f.jsx)("option",{value:"House & Garden",children:"House & Garden"}),Object(f.jsx)("option",{value:"Music & Movies",children:"Music & Movies"}),Object(f.jsx)("option",{value:"Pets",children:"Pets"}),Object(f.jsx)("option",{value:"Transports",children:"Transports"}),Object(f.jsx)("option",{value:"Other",children:"Other"})]})}),Object(f.jsx)("div",{className:"px-2 my-1",children:Object(f.jsxs)("select",{className:"flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"condition",id:"condition",value:this.props.condition,onChange:function(t){e.props.handleChange(t)},children:[Object(f.jsx)("option",{value:"Condition",children:"Any Condition"}),Object(f.jsx)("option",{value:"New",children:"New"}),Object(f.jsx)("option",{value:"As New",children:"As New"}),Object(f.jsx)("option",{value:"Used - Good",children:"Used - Good"}),Object(f.jsx)("option",{value:"Used - Fair",children:"User - Fair"}),Object(f.jsx)("option",{value:"N/A",children:"N/A"})]})}),Object(f.jsx)("div",{className:"px-2 my-1",children:Object(f.jsxs)("select",{className:"flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"status",id:"status",value:this.props.status,onChange:function(t){e.props.handleChange(t)},children:[Object(f.jsx)("option",{value:"Status",children:"Any Status"}),Object(f.jsx)("option",{value:"Available",children:"Available"}),Object(f.jsx)("option",{value:"Reserved",children:"Reserved"})]})})]})]})})}}]),s}(n.Component)),v=s(8),w=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t=this.props.items.filter((function(t){return t.title.toLowerCase().includes(e.props.query.toLowerCase())&&(!e.props.user||t.owner._id!==e.props.user._id)&&("Condition"===e.props.condition||t.condition===e.props.condition)&&("Status"===e.props.status||t.status===e.props.status)&&("Category"===e.props.category||t.category===e.props.category)})).map((function(t){return Object(f.jsxs)("div",{className:"flex flex-col p-6 items-center",children:[e.props.user?Object(f.jsx)(v.b,{to:"/items/".concat(t._id),children:Object(f.jsx)("img",{className:"object-cover h-40 w-40 rounded hover:opacity-70",src:t.imgUrl,alt:t.title})}):Object(f.jsx)("button",{onClick:function(){return e.props.updateMessage("Please log in to see item details")},children:Object(f.jsx)("img",{className:"object-cover h-40 w-40 rounded hover:opacity-70",src:t.imgUrl,alt:t.title})}),e.props.user?Object(f.jsx)(v.b,{to:"/items/".concat(t._id),children:Object(f.jsx)("h1",{className:"text-lg mt-2 font-medium hover:underline",children:t.title})}):Object(f.jsx)("button",{className:"text-lg mt-2 font-medium hover:underline",onClick:function(){return e.props.updateMessage("Please log in to see item details")},children:Object(f.jsx)("h1",{children:t.title})}),Object(f.jsx)("div",{children:t.condition}),Object(f.jsxs)("span",{children:[t.owner.location.postCode," ",t.owner.location.city]}),Object(f.jsxs)("span",{className:"text-gray-400 ",children:[" (",t.owner.location.country,")"]})]},t._id)}));return Object(f.jsxs)("div",{className:"mt-12",children:[this.props.message&&Object(f.jsx)("div",{className:"flex justify-center my-4",children:Object(f.jsxs)("div",{className:"w-6/12 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative",role:"alert",children:[Object(f.jsx)("strong",{className:"font-bold",children:this.props.message}),Object(f.jsx)("button",{onClick:function(){return e.props.removeMessage()},class:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-3 mr-4 outline-none focus:outline-none",children:Object(f.jsx)("span",{children:"\xd7"})})]})}),Object(f.jsx)("div",{className:"grid grid-flow-row grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-1 p-8 text-sm",children:t})]})}}]),s}(n.Component);function N(e){return Object(f.jsxs)("div",{className:"welcome",style:{backgroundImage:"url('./chair.jpg')"},children:[Object(f.jsx)("h1",{children:"Free Your Stuff"}),Object(f.jsx)("h3",{children:"You are welcome to give and request free stuff."})]})}var C=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={query:"",condition:"Condition",status:"Status",category:"Category",message:"",welcome:!0},e.updateMessage=function(t){e.setState({message:t})},e.removeMessage=function(){e.setState({message:""})},e.handleSearch=function(t){e.setState({query:t,welcome:!1})},e.handleChange=function(t){var s,n=t.target,a=n.name,r=n.value;e.setState((s={},Object(j.a)(s,a,r),Object(j.a)(s,"welcome",!1),s))},e}return Object(l.a)(s,[{key:"componentWillUnmount",value:function(){this.setState({message:""})}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{updateMessage:this.updateMessage,removeMessage:this.removeMessage,user:this.props.user,handleChange:this.handleChange,handleSearch:this.handleSearch,query:this.state.query,condition:this.state.condition,status:this.state.status,category:this.state.category}),this.state.welcome&&!this.props.user?Object(f.jsx)(N,{}):Object(f.jsx)("div",{className:"pt-32 lg:pt-1",children:Object(f.jsx)(w,{updateMessage:this.updateMessage,removeMessage:this.removeMessage,message:this.state.message,user:this.props.user,items:this.props.items,query:this.state.query,condition:this.state.condition,status:this.state.status,category:this.state.category})})]})}}]),s}(n.Component),U=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(C,{user:this.props.user,items:this.props.items})})}}]),s}(n.Component),k=g.a.create({baseURL:"http://localhost:5005/api",withCredentials:!0}),S=function(e){throw e},F=function(e){return console.log("file in service: ",e),k.post("/upload",e).then((function(e){return e.data})).catch(S)},M=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={title:"",category:"",description:"",status:"",owner:e.props.user._id,condition:"",imgUrl:"http://www.ub.edu/grop/wp-content/uploads/2019/07/placeholder.png"},e.handleSubmit=function(t){if(t.preventDefault(),""!==e.state.imgUrl){var s=e.state,n=s.title,a=s.category,r=s.description,i=s.condition,o=s.imgUrl;g.a.post("/api/items/new",{title:n,category:a,description:r,condition:i,owner:e.state.owner,imgUrl:o}).then((function(t){e.setState({title:"",category:"",description:"",condition:"",imgUrl:""}),e.props.getData(),e.props.history.push("/")}))}},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(j.a)({},n,a))},e.handleFileUpload=function(t){var s=new FormData;s.append("imgUrl",t.target.files[0]),F(s).then((function(t){e.setState({imgUrl:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"flex-col",children:[Object(f.jsx)("div",{className:"flex justify-center mt-6 mb-3 text-3xl font-bold text-gray-900",children:Object(f.jsx)("h1",{children:"List your new item"})}),Object(f.jsx)("div",{className:"flex justify-center",children:Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs my-2",htmlFor:"image_upload",children:"Add Image"}),Object(f.jsx)("img",{className:"flex justify-center w-60 rounded-md mb-2",src:this.state.imgUrl,alt:""}),Object(f.jsx)("input",{className:"flex items-center ml-1 w-60",type:"file",name:"imgUrl",onChange:this.handleFileUpload,required:!0})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"title",children:"Title: "}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange,required:!0})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"category",children:"Category: "}),Object(f.jsxs)("select",{defaultValue:"Category",className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"category",id:"category",onChange:this.handleChange,required:!0,children:[Object(f.jsx)("option",{value:"Category",disabled:"disabled",children:"Category"}),Object(f.jsx)("option",{value:"Books",children:"Books"}),Object(f.jsx)("option",{value:"Clothing & Accessories",children:"Clothing & Accessories"}),Object(f.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(f.jsx)("option",{value:"Family & Baby",children:"Family & Baby"}),Object(f.jsx)("option",{value:"Hobbies",children:"Hobbies"}),Object(f.jsx)("option",{value:"House & Garden",children:"House & Garden"}),Object(f.jsx)("option",{value:"Music & Movies",children:"Music & Movies"}),Object(f.jsx)("option",{value:"Pets",children:"Pets"}),Object(f.jsx)("option",{value:"Transports",children:"Transports"}),Object(f.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"title",children:"Description: "}),Object(f.jsx)("textarea",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",name:"description",id:"description",value:this.state.description,onChange:this.handleChange,required:!0})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"title",children:"Condition: "}),Object(f.jsxs)("select",{defaultValue:"Condition",className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"condition",id:"condition",onChange:this.handleChange,required:!0,children:[Object(f.jsx)("option",{value:"Condition",disabled:"disabled",children:"Condition"}),Object(f.jsx)("option",{value:"New",children:"New"}),Object(f.jsx)("option",{value:"As New",children:"As New"}),Object(f.jsx)("option",{value:"Used - Good",children:"Used - Good"}),Object(f.jsx)("option",{value:"Used - Fair",children:"User - Fair"}),Object(f.jsx)("option",{value:"N/A",children:"N/A"})]})]}),Object(f.jsx)("div",{className:"flex-col my-2",children:Object(f.jsx)("button",{className:"relative w-60 my-4 flex justify-center content-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"submit",children:"New item"})})]})})]})}}]),s}(n.Component),A=s(16);function D(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function P(e){var t=function(){g.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};return Object(f.jsx)(A.a,{as:"nav",className:"bg-gray-800 sticky top-0 z-50",children:Object(f.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(f.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(f.jsx)("div",{className:"flex-1 flex items-center sm:items-stretch justify-start",children:Object(f.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(f.jsxs)(v.b,{to:"/",children:[Object(f.jsx)("img",{className:"ml-2 h-9 w-9",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})," "]})})}),Object(f.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:Object(f.jsx)("div",{className:"ml-3 relative",children:e.user?Object(f.jsx)(A.b,{as:"div",className:"ml-3 relative",children:function(s){var a=s.open;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex flex-row items-center",children:[Object(f.jsx)("div",{className:"flex items-center justify-left sm:static",children:Object(f.jsx)("button",{className:"flex text-gray-100 bg-gray-600 hover:bg-gray-100 hover:text-gray-700 px-3 py-2 rounded-md font-medium mr-5",type:"submit",children:Object(f.jsx)(v.b,{to:"/new",children:"Add Item"})})}),Object(f.jsx)("div",{children:Object(f.jsxs)(A.b.Button,{className:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(f.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(f.jsx)("img",{className:"object-cover h-9 w-9 rounded-full",src:e.user.imgUrl,alt:""})]})})]}),Object(f.jsx)(A.c,{show:a,as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(f.jsxs)(A.b.Items,{static:!0,className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[Object(f.jsx)(A.b.Item,{children:function(e){var t=e.active;return Object(f.jsx)(v.b,{to:"/dashboard",className:D(t?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Profile"})}}),Object(f.jsx)(A.b.Item,{children:function(e){var t=e.active;return Object(f.jsx)(v.b,{to:"/dashboard/edit",className:D(t?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Settings"})}}),Object(f.jsx)(A.b.Item,{children:function(e){var s=e.active;return Object(f.jsx)(v.b,{to:"/",onClick:function(){return t()},className:D(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Log out"})}})]})})]})}}):Object(f.jsxs)("div",{className:"flex space-x-4",children:[Object(f.jsx)("h4",{className:"text-gray-100 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:Object(f.jsx)(v.b,{to:"/signup",children:"Sign up"})}),Object(f.jsx)("h4",{className:"text-gray-700 bg-gray-100 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:Object(f.jsx)(v.b,{to:"/login",children:"Log in"})})]})})})]})})})}var _=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={item:{},title:"",category:"",description:"",condition:"",imgUrl:"",owner:{},status:"",location:{}},e.getData=function(){g.a.get("/api/items/".concat(e.props.match.params.id)).then((function(t){e.setState({item:t.data,title:t.data.title,category:t.data.category,description:t.data.description,condition:t.data.condition,imgUrl:t.data.imgUrl,status:t.data.status,owner:t.data.owner,location:t.data.owner.location})})).catch((function(t){404===t.response.status&&e.setState({error:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e.handlePopup=function(){e.setState((function(e){return{popup:!e.popup}}))},e.deleteItem=function(){g.a.delete("/api/items/".concat(e.state.item._id)).then((function(){e.props.getData(),e.props.updateMessage("Item deleted succesfully"),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return this.state.error?Object(f.jsx)("h2",{children:this.state.error}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 sm:px-8 sm:py-20 sm:gap-x-8 md:py-16",children:[Object(f.jsxs)("div",{className:"z-10 col-start-1 row-start-1 px-4 pt-20 pb-4 bg-gradient-to-t from-black via-transparent sm:bg-none",children:[Object(f.jsx)("p",{className:"text-md font-medium text-white sm:mb-1 sm:text-gray-500",children:this.state.category}),Object(f.jsx)("h2",{className:"text-2xl font-semibold text-white sm:text-2xl sm:leading-7 sm:text-black md:text-3xl",children:this.state.title})]}),Object(f.jsxs)("div",{className:"col-start-1 row-start-2 px-4 py-2 sm:pb-16",children:[Object(f.jsx)("div",{className:"flex items-center text-sm font-medium my-5 sm:mt-2 sm:mb-4",children:Object(f.jsxs)("div",{className:"ml-1",children:[Object(f.jsx)("span",{className:"text-black",children:this.state.condition}),Object(f.jsx)("span",{className:"text-base font-normal mx-2",children:"\xb7"}),Object(f.jsxs)("span",{children:[this.state.location.street," ",this.state.location.number,", ",this.state.location.postCode," ",this.state.location.city]}),Object(f.jsxs)("span",{className:"text-gray-400",children:[" (",this.state.location.country,")"]})]})}),Object(f.jsx)("hr",{className:"w-16 border-gray-300 hidden sm:block"}),Object(f.jsx)("div",{className:"my-4",children:this.state.description})]}),Object(f.jsxs)("div",{className:"col-start-1 row-start-3 space-y-1 px-4 py-4",children:[Object(f.jsx)("div",{className:"flex items-center text-black text-sm font-medium",children:Object(f.jsxs)(v.b,{to:"/profile/".concat(this.state.owner._id),className:"mr-2 bg-gray-100",children:["Given by ",Object(f.jsx)("span",{className:"underline",children:this.state.owner.username})]})}),Object(f.jsxs)("div",{className:"flex flex-row text-sm",children:[Object(f.jsx)("span",{children:this.state.owner.phoneNumber}),Object(f.jsx)("span",{className:"text-base font-normal mx-2",children:"\xb7"}),Object(f.jsx)("span",{children:this.state.owner.email})]})]}),Object(f.jsx)("div",{className:"col-start-1 row-start-1 flex sm:col-start-2 sm:row-span-3",children:Object(f.jsxs)("div",{className:"w-full grid grid-cols-3 grid-rows-2 gap-2",children:[Object(f.jsx)("div",{className:"relative col-span-3 row-span-2 md:col-span-2",children:Object(f.jsx)("img",{src:this.state.imgUrl,alt:this.state.title,className:"absolute inset-0 w-full h-full object-cover bg-gray-100 sm:rounded-lg"})}),Object(f.jsx)("div",{className:"relative hidden md:block",children:Object(f.jsx)("img",{src:this.state.imgUrl,alt:this.state.title,className:"absolute inset-0 w-full h-full object-cover rounded-lg bg-gray-100"})}),Object(f.jsx)("div",{className:"relative hidden md:block",children:Object(f.jsx)("img",{src:this.state.imgUrl,alt:this.state.title,className:"absolute inset-0 w-full h-full object-cover rounded-lg bg-gray-100"})})]})}),null!==this.props.user&&this.state.owner._id===this.props.user._id&&Object(f.jsxs)("div",{className:"flex-row py-3",children:[Object(f.jsx)(v.b,{to:"/items/".concat(this.state.item._id,"/edit"),children:Object(f.jsx)("button",{className:"group relative w-40 justify-center py-2 mx-2 px-4 sm:my-1 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"button",children:"Edit Item"})}),Object(f.jsx)("button",{className:"group relative w-40 justify-center py-2 mx-2 px-4 border-2 text-sm font-medium rounded-md text-red-800 border-red-800 bg-transparent hover:bg-red-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return e.handlePopup()},children:"Delete Item"}),this.state.popup&&Object(f.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(f.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(f.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(f.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(f.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[Object(f.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(f.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(f.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(f.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(f.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(f.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Delete item"}),Object(f.jsx)("div",{className:"mt-2",children:Object(f.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this item? The item will be permanently removed. This action cannot be undone."})})]})]})}),Object(f.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(f.jsx)("button",{onClick:function(){return e.deleteItem()},type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Delete item"}),Object(f.jsx)("button",{onClick:function(){return e.handlePopup()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})]})})}}]),s}(n.Component);function I(e){var t=e.items.filter((function(t){return t.owner._id===e.user._id})).map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)(v.b,{to:"/items/".concat(e._id),children:Object(f.jsx)("img",{className:"object-cover justify-center p-1 h-25 w-25 md:h-40 md:w-40 rounded hover:opacity-70",src:e.imgUrl,alt:e.title})}),Object(f.jsx)("h1",{className:"text-bg mt-1 hover:underline",children:Object(f.jsx)(v.b,{to:"/items/".concat(e._id),children:e.title})}),Object(f.jsx)("div",{className:"text-sm",children:e.condition})]})},e._id)})),s=e.user.username;return Object(f.jsxs)("div",{className:"flex flex-col mx-2 my-2",children:[s&&Object(f.jsxs)("div",{className:"text-2xl flex py-1 px-3 sm:px-10 m-3 sm:m-5 justify-center lg:justify-start",children:[s.charAt(0).toUpperCase()+e.user.username.slice(1),"'s Stuff"]}),Object(f.jsx)("div",{className:"flex py-1 px-3 sm:px-10 m-3 sm:m-5 justify-around align-text-top text-center flex-wrap gap-8",children:t})]})}function B(e){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(f.jsxs)("div",{children:[e.message&&Object(f.jsx)("div",{className:"flex justify-center my-4",children:Object(f.jsxs)("div",{className:"w-6/12 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[Object(f.jsx)("strong",{className:"font-bold",children:e.message}),Object(f.jsx)("button",{onClick:function(){return e.removeMessage()},className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-3 mr-4 outline-none focus:outline-none",children:Object(f.jsx)("span",{children:"\xd7"})})]})}),Object(f.jsxs)("div",{className:"flex flex-row p-5 ml-2",children:[Object(f.jsxs)("div",{className:"flex flex-col mx-2 my-2 items-center",children:[Object(f.jsx)("img",{className:"object-cover w-40 h-40 mx-5 my-5 rounded-full",src:e.user.imgUrl,alt:""}),e.user.firstName?Object(f.jsxs)("h1",{className:"sm:text-2xl md:text-3xl text-xl mt-4 mb-2 text-center",children:[e.user.firstName," ",e.user.lastName]}):Object(f.jsx)("h1",{className:"text-3xl mx-10 my-5",children:e.user.username}),e.user.location&&Object(f.jsxs)("h2",{className:"sm:text-lg md:text-xl text-base mx-10 my-2 text-center",children:[e.user.location.city,", ",e.user.location.country]})]}),Object(f.jsx)("div",{children:Object(f.jsx)(I,{user:e.user,items:e.items,condition:e.condition,status:e.status,category:e.category})})]})]})}var L=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={person:""},e.getPerson=function(){g.a.get("/api/person/".concat(e.props.match.params.id)).then((function(t){e.setState({person:t.data})})).catch((function(t){404===t.response.status&&e.setState({error:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getPerson()}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"flex flex-row p-5 ml-2",children:[Object(f.jsxs)("div",{className:"flex flex-col mx-1 my-2 items-center",children:[Object(f.jsx)("img",{className:"object-cover w-40 h-40 mx-5 my-5 rounded-full",src:this.state.person.imgUrl,alt:""}),this.state.person.firstName?Object(f.jsxs)("h1",{className:"sm:text-2xl md:text-3xl text-xl mt-4 mb-2 text-center",children:[this.state.person.firstName," ",this.state.person.lastName]}):Object(f.jsx)("h1",{className:"text-3xl mx-10 my-5",children:this.state.person.username}),this.state.person.location&&Object(f.jsxs)("h2",{className:"sm:text-lg md:text-xl text-base mx-10 my-2 text-center",children:[this.state.person.location.city,", ",this.state.person.location.country]})]}),Object(f.jsx)("div",{children:Object(f.jsx)(I,{user:this.state.person,items:this.props.items,condition:this.props.condition,status:this.props.status,category:this.props.category})})]})})}}]),s}(n.Component),T=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={firstName:"",lastName:"",imgUrl:"",email:"",phoneNumber:"",street:"",number:"",city:"",country:"",postCode:"",popup:!1},e.handlePopup=function(){e.setState((function(e){return{popup:!e.popup}}))},e.deleteAccount=function(){g.a.delete("api/auth/".concat(e.props.user._id)).then((function(){e.props.history.push("/")})).catch((function(e){console.log(e)}))},e.getData=function(){g.a.get("/api/auth/".concat(e.props.user._id)).then((function(t){console.log(t.data),e.setState({firstName:t.data.firstName||"",lastName:t.data.lastName||"",imgUrl:t.data.imgUrl,email:t.data.email||"",phoneNumber:t.data.phoneNumber||""}),t.data.location&&e.setState({street:t.data.location.street,number:t.data.location.number,city:t.data.location.city,country:t.data.location.country,postCode:t.data.location.postCode})})).catch((function(t){404===t.response.status&&e.setState({message:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(j.a)({},n,a))},e.handleFileUpload=function(t){var s=new FormData;s.append("imgUrl",t.target.files[0]),F(s).then((function(t){e.setState({imgUrl:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleSubmit=function(t){var s=e.state,n=s.firstName,a=s.lastName,r=s.imgUrl,i=s.email,o=s.phoneNumber,c=s.street,l=s.number,d=s.city,u=s.country,m=s.postCode;t.preventDefault(),g.a.put("/api/auth/".concat(e.props.user._id),{firstName:n,lastName:a,imgUrl:r,email:i,phoneNumber:o,street:c,number:l,city:d,country:u,postCode:m}).then((function(){e.props.updateMessage("Information updated succesfully"),e.props.getUser(),e.props.history.push("/dashboard")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"flex-col",children:[Object(f.jsx)("div",{className:"flex justify-center mt-6 mb-3 text-3xl font-bold text-gray-900",children:Object(f.jsx)("h1",{children:"Settings"})}),Object(f.jsx)("div",{className:"flex justify-center",children:Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs my-2",htmlFor:"image_upload",children:"Add Image"}),Object(f.jsx)("img",{className:"flex justify-center w-60 rounded-md mb-2",src:this.state.imgUrl,alt:""}),Object(f.jsx)("input",{className:"flex items-center ml-1 w-60",type:"file",name:"imgUrl",onChange:this.handleFileUpload})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"firstName",children:"Name"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",id:"firstName",name:"firstName",placeholder:"Name",value:this.state.firstName,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"lastName",children:"Surname"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",id:"lastName",name:"lastName",placeholder:"Surname",value:this.state.lastName,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"phoneNumber",children:"Phone Number"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"string",id:"phoneNumber",name:"phoneNumber",placeholder:"Phone Number",value:this.state.phoneNumber,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"street",children:"Street"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"string",id:"street",name:"street",placeholder:"Street",value:this.state.street,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"number",children:"Number"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"number",id:"number",name:"number",placeholder:"Number",value:this.state.number,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"city",children:"City"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"string",id:"city",name:"city",placeholder:"City",value:this.state.city,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"string",id:"country",name:"country",placeholder:"Country",value:this.state.country,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"my-1",children:[Object(f.jsx)("label",{className:"text-xs",htmlFor:"postCode",children:"Post Code"}),Object(f.jsx)("input",{className:"flex justify-center w-60 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"string",id:"postCode",name:"postCode",placeholder:"PostCode",value:this.state.postCode,onChange:this.handleChange})]}),Object(f.jsx)("div",{className:"flex justify-center my-1",children:Object(f.jsx)("button",{className:"relative w-60 mt-4 mb-2 flex justify-center content-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"submit",children:"Update Account"})})]})}),Object(f.jsx)("div",{className:"flex justify-center my-1",children:Object(f.jsx)("button",{className:"relative w-60 mb-4 flex justify-center content-center py-2 px-4 border border-red-600 text-sm font-medium rounded-md text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:function(){return e.handlePopup()},children:"Delete Account"})}),this.state.popup&&Object(f.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(f.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(f.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(f.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(f.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[Object(f.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(f.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(f.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(f.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(f.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(f.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Delete account"}),Object(f.jsx)("div",{className:"mt-2",children:Object(f.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to deactivate your account? All of your data will be permanently removed. This action cannot be undone."})})]})]})}),Object(f.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(f.jsx)("button",{onClick:function(){return e.deleteAccount()},type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Delete account"}),Object(f.jsx)("button",{onClick:function(){return e.handlePopup()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}}]),s}(n.Component),E=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={item:{},title:"",category:"",description:"",condition:"",imgUrl:"",owner:{},status:"",location:{}},e.getData=function(){g.a.get("/api/items/".concat(e.props.match.params.id)).then((function(t){e.setState({item:t.data,title:t.data.title,category:t.data.category,description:t.data.description,condition:t.data.condition,imgUrl:t.data.imgUrl,status:t.data.status,owner:t.data.owner,location:t.data.owner.location})})).catch((function(t){404===t.response.status&&e.setState({error:"Not found \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"})}))},e.handleFileUpload=function(t){var s=new FormData;s.append("imgUrl",t.target.files[0]),F(s).then((function(t){e.setState({imgUrl:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(j.a)({},n,a))},e.handleSubmit=function(t){var s=e.state,n=s.title,a=s.category,r=s.description,i=s.condition,o=s.imgUrl,c=s.status;t.preventDefault(),g.a.put("/api/items/".concat(e.state.item._id),{title:n,category:a,description:r,condition:i,status:c,imgUrl:o}).then((function(){e.props.updateMessage("Item information updated succesfully"),e.props.history.push("/dashboard")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(f.jsx)("div",{className:"flex justify-center mt-6 mb-4 text-3xl font-bold text-gray-900",children:"Edit this item"}),Object(f.jsx)("div",{className:"flex justify-center",children:Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("label",{className:"text-xs my-2",htmlFor:"image_upload",children:"Add Image"}),Object(f.jsx)("img",{className:"flex justify-center w-80 rounded-md mb-2",src:this.state.imgUrl,alt:""}),Object(f.jsx)("input",{className:"flex items-center ml-1 w-80",type:"file",name:"imgUrl",onChange:function(t){return e.handleFileUpload(t)}})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)("label",{className:"text-xs",htmlFor:"title",children:"Title"})}),Object(f.jsx)("input",{className:"w-80 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"flex-col my-2 justify-center",children:[Object(f.jsx)("div",{children:Object(f.jsx)("label",{className:"text-xs",htmlFor:"category",children:"Category"})}),Object(f.jsxs)("select",{className:"w-80 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"category",id:"category",value:this.props.category,onChange:this.props.handleChange,children:[Object(f.jsx)("option",{value:"Category",children:"Category"}),Object(f.jsx)("option",{value:"Books",children:"Books"}),Object(f.jsx)("option",{value:"Clothing & Accessories",children:"Clothing & Accessories"}),Object(f.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(f.jsx)("option",{value:"Family & Baby",children:"Family & Baby"}),Object(f.jsx)("option",{value:"Hobbies",children:"Hobbies"}),Object(f.jsx)("option",{value:"House & Garden",children:"House & Garden"}),Object(f.jsx)("option",{value:"Music & Movies",children:"Music & Movies"}),Object(f.jsx)("option",{value:"Pets",children:"Pets"}),Object(f.jsx)("option",{value:"Transports",children:"Transports"}),Object(f.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)("label",{className:"text-xs",htmlFor:"description",children:"Description"})}),Object(f.jsx)("textarea",{className:"w-80 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",type:"text",id:"description",name:"description",value:this.state.description,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)("label",{className:"text-xs",htmlFor:"condition",children:"Condition"})}),Object(f.jsxs)("select",{className:"w-80 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"condition",id:"condition",value:this.state.condition,onChange:this.handleChange,children:[Object(f.jsx)("option",{value:"Condition",children:"Condition"}),Object(f.jsx)("option",{value:"New",children:"New"}),Object(f.jsx)("option",{value:"As New",children:"As New"}),Object(f.jsx)("option",{value:"Used - Good",children:"Used - Good"}),Object(f.jsx)("option",{value:"Used - Fair",children:"User - Fair"}),Object(f.jsx)("option",{value:"N/A",children:"N/A"})]})]}),Object(f.jsxs)("div",{className:"flex-col my-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)("label",{className:"text-xs",htmlFor:"status",children:"Status"})}),Object(f.jsxs)("select",{className:"w-80 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",name:"status",id:"status",value:this.state.status,onChange:this.handleChange,children:[Object(f.jsx)("option",{value:"Available",children:" Available"}),Object(f.jsx)("option",{value:"Reserved",children:"Reserved"})]})]}),Object(f.jsx)("button",{className:"relative w-80 my-4 py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"submit",children:"Update Item"})]})})]})}}]),s}(n.Component),q=s(34),G=function(e){var t=e.component,s=e.user,n=e.path,a=e.redirectPath,r=e.updateMessage,i=e.message,c=e.removeMessage,l=e.getUser,d=e.items,u=Object(q.a)(e,["component","user","path","redirectPath","updateMessage","message","removeMessage","getUser","items"]);return Object(f.jsx)(m.b,{exact:!0,path:n,render:function(e){return s?Object(f.jsx)(t,Object(o.a)(Object(o.a)(Object(o.a)({},e),u),{},{user:s,removeMessage:c,message:i,updateMessage:r,getUser:l,items:d})):Object(f.jsx)(m.a,{to:a})}})},H=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user,items:[],message:""},e.setUser=function(t){e.setState({user:t})},e.getData=function(){g.a.get("/api/items").then((function(t){e.setState({items:t.data})})).catch((function(e){return console.log(e)}))},e.getUser=function(){g.a.get("/api/auth/loggedin").then((function(t){e.setState({user:t.data})}))},e.updateMessage=function(t){e.setState({message:t})},e.removeMessage=function(){e.setState({message:""})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{user:this.state.user,setUser:this.setUser}),Object(f.jsx)(G,{path:"/dashboard",user:this.state.user,removeMessage:this.removeMessage,message:this.state.message,updateMessage:this.updateMessage,getUser:this.getUser,items:this.state.items,component:B,redirectPath:"/login"}),Object(f.jsx)(G,{path:"/dashboard/edit",user:this.state.user,updateMessage:this.updateMessage,getUser:this.getUser,items:this.state.items,component:T,redirectPath:"/login"}),Object(f.jsx)(m.b,{exact:!0,path:"/profile/:id",render:function(t){return Object(f.jsx)(L,Object(o.a)({items:e.state.items,user:e.state.user},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/",render:function(t){return Object(f.jsx)(U,Object(o.a)({items:e.state.items,user:e.state.user,setUser:e.setUser},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/signup",render:function(t){return Object(f.jsx)(p,Object(o.a)({setUser:e.setUser},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/login",render:function(t){return Object(f.jsx)(y,Object(o.a)({setUser:e.setUser},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/new",render:function(t){return Object(f.jsx)(M,Object(o.a)({getData:e.getData,user:e.state.user,setUser:e.setUser},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/items/:id",render:function(t){return Object(f.jsx)(_,Object(o.a)({user:e.state.user,getData:e.getData,updateMessage:e.updateMessage},t))}}),Object(f.jsx)(G,{path:"/items/:id/edit",user:this.state.user,updateMessage:this.updateMessage,component:E,redirectPath:"/login"})]})}}]),s}(a.a.Component),z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,67)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))};g.a.get("/api/auth/loggedin").then((function(e){var t=e.data;i.a.render(Object(f.jsx)(v.a,{children:Object(f.jsx)(H,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log(e)})),z()}},[[66,1,2]]]);
//# sourceMappingURL=main.add889c0.chunk.js.map